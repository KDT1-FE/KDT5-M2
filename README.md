## Vanilla JS로 OMDB API 영화검색 사이트 만들기

💬[데모] : (https://frolicking-trifle-07d151.netlify.app/)

### 사이트 설명

#### HOME
+ 영화를 검색할 수 있습니다.
+ 출시년도와 영화 타입을 선택하여 검색할 수 있습니다.
+ 검색 후 enter 입력 혹은 search 버튼 클릭 시 영화 포스터가 출력됩니다.
+ 포스터에 hover 시에 제목과 출시년도가 나타납니다.
+ 포스터 클릭 시 상세 영화정보 페이지로 이동합니다.

#### INFO
+ 상세 영화정보를 보여줍니다.
+ 잘못된 주소를 입력받으면 찾는 영화정보가 없다는 이미지가 출력됩니다.
+ 기본 값은 존윅4입니다.

#### ABOUT 
+ 허전해서 넣었습니다.
+ 사이트 로고와 작성자 이름, github 주소를 보여줍니다.

---
개요: 
---
### ❗ 필수

- [x] 영화 제목으로 검색이 가능해야 합니다!
- [x] 검색된 결과의 영화 목록이 출력돼야 합니다!
- [x] 단일 영화의 상세정보(제목, 개봉연도, 평점, 장르, 감독, 배우, 줄거리, 포스터 등)를 볼 수 있어야 합니다!
- [x] 실제 서비스로 배포하고 접근 가능한 링크를 추가해야 합니다.

### ❔ 선택

- [ ] 한 번의 검색으로 영화 목록이 20개 이상 검색되도록 만들어보세요.
- [x] 영화 개봉연도로 검색할 수 있도록 만들어보세요.
- [x] 영화 목록을 검색하는 동안 로딩 애니메이션이 보이도록 만들어보세요.
- [x] 무한 스크롤 기능을 추가해서 추가 영화 목록을 볼 수 있도록 만들어보세요.
- [x] 영화 포스터가 없을 경우 대체 이미지를 출력하도록 만들어보세요.
- [x] 영화 상세정보가 출력되기 전에 로딩 애니메이션이 보이도록 만들어보세요.
- [x] 영화 상세정보 포스터를 고해상도로 출력해보세요. (실시간 이미지 리사이징)
- [x] 차별화가 가능하도록 프로젝트를 최대한 예쁘게 만들어보세요.
- [ ] 영화와 관련된 기타 기능도 고려해보세요.

---
### 파일 구조 및 기능
```
C:.
│  index.html
│  main.js :: 각 페이지가 #app 요소 안에 렌더링 되도록 DOMContentLoaded 이벤트를 추가합니다.
│  package-lock.json
│  package.json
│  README.md
│  style.scss
│
└─src
    │  app.js :: header 요소에 클릭 이벤트를 추가하고, 최초 실행 시 랜딩페이지를 불러옵니다.
    │  router.js :: route주소를 받아와 SPA 기능을 제어합니다.
    │
    ├─constants
    │      routeInfo.js :: route주소 정보와 경로를 담고 있습니다.
    │
    ├─core
    │      getDetail.js :: 영화의 세부정보를 fetch합니다.
    │      movieFetch.js :: 검색어에 맞는 영화 정보를 fetch합니다.
    │
    ├─pages :: 이 폴더 안의 js파일은 각 주소에 렌더링 될 요소를 결정합니다.
    │  │  about.js
    │  │  main.js :: createMovieList를 호출합니다.
    │  │  movieinfo.js
    │  │  notfound.js :: URL주소가 잘못됐을 때 렌더링됩니다.
    │  │
    │  └─styles
    │          about.scss
    │          main.scss
    │          movieinfo.scss
    │
    ├─scripts
    │  ├─infoPage
    │  │      createEl.js :: detailRes.js에서 받아온 데이터를 화면에 출력합니다.
    │  │      detailRes.js :: getDetail.js를 통해 받아온 데이터에서, 필요한 데이터만 꺼내어 저장합니다.
    │  │      infoRoute.js :: main화면에서 검색 결과 요소(영화목록 중 하나)를 선택 시, 해당 주소로 URL 전환을 담당합니다.
    │  │
    │  └─mainPage
    │          createMovieList.js :: 검색 시 이벤트와, 스크롤 시 추가 데이터 fetch 이벤트를 제어합니다.
    │          movieResult.js     :: API에서 받아온 영화 목록 데이터를 화면에 출력합니다.
    │
    └─utils
            navigate.js      :: URL주소가 바뀔 때 이벤트를 발송합니다.
            querySelector.js :: querySelector 메서드를 `$`로 단축합니다. 찾을 수 없을 시 오류처리도 포함합니다.
```
---
```
## 사용된 모듈
package :
    "eslint": "^8.38.0",
    "eslint-config-prettier": "^8.8.0",
    "eslint-plugin-prettier": "^4.2.1",
    "prettier": "^2.8.7",
    "sass": "^1.62.0",
    "vite": "^4.3.0"
```

### 🧨문제점 :
+ info페이지에서 뒤로가기 시, 메인 페이지가 초기화 됩니다. 검색 내역과 데이터가 그대로 남아있어야 사용자도 편하고, 데이터 처리량도 줄어들 것 같습니다. route이벤트 관련된 문제인 것 같은데, 해당 문제점 관련해 서칭중입니다.

+ 무한 스크롤 시 영화 정보가 없음에도, 스크롤을 올렸다가 내리면 이벤트 리스너가 계속 생성되는 현상이 있습니다. 최초 1회 영화정보 없음 표시가 나타나면, 이벤트리스너가 다시 생성되지 않는 로직이 추가되지 않았습니다.


### 🧠아쉬운 점 :
+ router 기능에 대해 100% 이해하지 못해, 기능을 따라할 수는 있어도, 수정하기는 힘들었습니다.
+ JS 기초 지식이 부족해 많은 기능을 구현하지 못했고, 작업하는 중간중간 생각나는 원하는 기능들을 포기하기도 했습니다.


### 🎈얻은 것들 :

+ JS에 대한 이해가 늘었습니다. 함수의 호이스팅, 객체와 배열, json, API 통신과 비동기방식 등 다양한 문법들을 실사용하면서 원리와 사용법을 숙지하게 됐습니다.
